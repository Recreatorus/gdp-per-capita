function status(t){return t.status>=200&&t.status<300?Promise.resolve(t):Promise.reject(new Error(t.statusText))}function json(t){return t.json()}function displayData(t){const e=document.querySelector("#sortMe tbody");t.forEach(t=>e.insertAdjacentHTML("beforeend",`\n        <tr>\n          <td>${t.country}</td>\n          <td>${Math.round(t.y2001)}</td>\n          <td>${Math.round(t.y2021)}</td>\n          <td>${t.y2001>0&&t.y2021>0?((t.y2021-t.y2001)/t.y2001*100).toFixed(1)+"%":"0"}</td>\n        </tr>\n      `)),sortTable()}function sortTable(){const t=document.getElementById("sortMe"),e=t.querySelectorAll("th"),n=t.querySelector("tbody"),o=n.querySelectorAll("tr"),c=Array.from(e).map(function(t){return""}),r=function(t,n){const o=e[t].getAttribute("data-type");switch(o){case"number":return parseFloat(n);case"string":default:return n}},a=function(t){const e=c[t]||"asc",a="asc"===e?1:-1,s=Array.from(o);s.sort(function(e,n){const o=e.querySelectorAll("td")[t].innerHTML,c=n.querySelectorAll("td")[t].innerHTML,s=r(t,o),u=r(t,c);switch(!0){case s>u:return 1*a;case s<u:return-1*a;case s===u:return 0}}),[].forEach.call(o,function(t){n.removeChild(t)}),c[t]="asc"===e?"desc":"asc",s.forEach(function(t){n.appendChild(t)})};[].forEach.call(e,function(t,e){t.addEventListener("click",function(){a(e)})})}function myFunction(){window.pageYOffset>sticky?header.classList.add("sticky"):header.classList.remove("sticky")}document.onreadystatechange=function(){"complete"==document.readyState&&(console.group("Status:"),console.log("Loading: %c%s","padding: 2px 5px; background-color: #7bd235; color: #fff",document.readyState),console.groupEnd())};const url="./data/gdp.json";fetch(url).then(status).then(json).then(function(t){displayData(t)}).catch(function(t){console.log("%c Ошибка:  "+t+" ","background-color: #f00; color: #fff",t)});var els=document.querySelectorAll("#sortMe th");[].forEach.call(els,function(t){t.addEventListener("click",function(){[].forEach.call(els,function(t){t.classList.remove("active")}),t.classList.add("active")})}),window.onscroll=function(){myFunction()};var header=document.querySelector(".thead"),sticky=header.offsetTop;