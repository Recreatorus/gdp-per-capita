function status(e){return e.status>=200&&e.status<300?(console.log("Headers: %c "+e.headers.get("Content-Type")+" ","background-color: #222; color: #7bd235"),console.log("Status: %c "+e.status+" ","background-color: #222; color: #7bd235"),console.log("StatusText: %c "+e.statusText+" ","background-color: #222; color: #7bd235"),console.log("ResponseType: %c "+e.type+" ","background-color: #222; color: #7bd235"),console.log("ResponseUrl:  "+e.url),Promise.resolve(e)):Promise.reject(new Error(e.statusText))}function json(e){return e.json()}function displayData(e){const t=document.querySelector("#sortMe tbody");e.forEach(e=>t.insertAdjacentHTML("beforeend",`\n        <tr>\n          <td>${e.country}</td>\n          <td>${Math.round(e.y2001)}</td>\n          <td>${Math.round(e.y2021)}</td>\n          <td>${e.y2001>0&&e.y2021>0?((e.y2021-e.y2001)/e.y2001*100).toFixed(1)+"%":"0"}</td>\n        </tr>\n      `)),sortTable()}function sortTable(){const e=document.getElementById("sortMe"),t=e.querySelectorAll("th"),o=e.querySelector("tbody"),c=o.querySelectorAll("tr"),n=Array.from(t).map(function(e){return""}),r=function(e,o){const c=t[e].getAttribute("data-type");switch(c){case"number":return parseFloat(o);case"string":default:return o}},s=function(e){const t=n[e]||"asc",s="asc"===t?1:-1,a=Array.from(c);a.sort(function(t,o){const c=t.querySelectorAll("td")[e].innerHTML,n=o.querySelectorAll("td")[e].innerHTML,a=r(e,c),l=r(e,n);switch(!0){case a>l:return 1*s;case a<l:return-1*s;case a===l:return 0}}),[].forEach.call(c,function(e){o.removeChild(e)}),n[e]="asc"===t?"desc":"asc",a.forEach(function(e){o.appendChild(e)})};[].forEach.call(t,function(e,t){e.addEventListener("click",function(){s(t)})})}document.onreadystatechange=function(){"complete"==document.readyState&&(console.group("Status:"),console.log("Loading: %c%s","padding: 2px 5px; background-color: #7bd235; color: #fff",document.readyState),console.groupEnd())};const url="./data/gdp.json";fetch(url).then(status).then(json).then(function(e){console.log("%cЗапрос выполнен","padding: 2px 5px; background-color: #7bd235; color: #fff"),console.log("Количество объектов JSON: %c "+e.length+" ","background-color: #222; color: #7bd235"),displayData(e)}).catch(function(e){console.log("%c Ошибка:  "+e+" ","background-color: #f00; color: #fff",e)});var els=document.querySelectorAll("#sortMe th");[].forEach.call(els,function(e){e.addEventListener("click",function(){[].forEach.call(els,function(e){e.classList.remove("active")}),e.classList.add("active")})});const table=document.querySelector(".table"),header=document.querySelector(".thead"),intersectionObserver=new IntersectionObserver(e=>{e[0].intersectionRatio<=0?header.classList.remove("sticky"):header.classList.add("sticky")});intersectionObserver.observe(table);